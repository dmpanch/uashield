version: '2'
services:

    uashield:
      depends_on:
        - protonvpn
      build:
        context: ../../
        dockerfile: ./Dockerfile
      restart: always
      container_name: uashield
      image: uashield:latest
      environment:
        WORKERS: '256'
        USEPROXY: 'true'
      network_mode: service:protonvpn

    protonvpn:
      container_name: protonvpn
      environment:
        # Credentials
        PROTONVPN_USERNAME: vWOBT489uo86CP3G
        PROTONVPN_PASSWORD: zkM7hplVGpOrFx0rHHnWW708QBDQoALn
        # Override these where applicable
        PROTONVPN_SERVER: NL
        PROTONVPN_TIER: ${PROTONVPN_TIER:-0}
      # Always use semver tags, avoid using tag latest!
      image: ghcr.io/tprasadtp/protonvpn:latest
      restart: unless-stopped
      networks:
        - internet
      cap_add:
        - NET_ADMIN
      devices:
        - /dev/net/tun:/dev/net/tun

networks:
  internet: